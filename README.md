## Pytest

---

Источники:  
1) https://pytest-docs-ru.readthedocs.io/ru/latest/contents.html
2) https://habr.com/ru/post/448782/  
3) https://gist.github.com/AlekseyGolikov/07e44b627dc9901370348c3ad28775c6  

---

#### exam1

#### exam2

> Пример тестирования работы алгоритма подсчета суммы чисел в последовательности
> Для каждого числа из последовательности [1, 2, 3, ... n] вычисляется сумма всех его предыдущих членов

#### exam3

> Пример модульного тестирования на соответствие данных расчетным

#### exam4

> Пример функционального тестирования на ожидание исключений 
> (expected exceptions)

#### exam5

> Пример параметрического тестирования (parametrized testing)
> Параметрическое тестирование -это способ отправить несколько наборов данных 
> через один и тот же тест.
> В качестве примеров используются проверка алгоритма Фибоначчи,  
> алгоритма преобразования сложного списка в простой  и алгоритма скользящего среднего
> данный пример может быть реализован с помощью параметризованных фикстур (см. exam9)

#### exam6

> Рассматриваются примеры:
> 1) реализация механизма открытия (start) и закрытия (teardown) обработки тестовой функции с помощью фикстур  
> 2) фикстура принимает объект request для анализа контекста запрашивающей тестовой функции, класса или модуля  
Пример параметрического тестирования (parametrized testing)
> 3) в модуле test_order_fixtures.py приведен пример порядка инициализации фикстур в зависимости от параметра окружения scope  

#### exam7

> Рассматрен пример параметризации фикстур с помощью параметра params в объявлении фикстуры

#### exam8

> Рассматрен пример использования шаблона "фабрики-фикстуры" 
> Данный шаблон может быть полезен в случаях, когда результат, возвращаемый фикстурой
> используется много раз в отдельном тесте. 
> Суть в том, что вместо того, чтобы напрямую возвращать данные, фикстура возвращает функцию, 
> которая генерирует данные. И затем эта функция может быть неоднократно вызвана в тесте.

#### exam9
> Использование маркировки с параметризованными фикстурами
> pytest.param можно использовать для маркировки значений параметров параметризованных фикстур, 
> точно так же, как и с @pytest.mark.parametrize.

#### exam10
> Фикстуры autouse (автоматическое использование фикстур)
    Иногда хочется, чтобы фикстуры вызывались автоматически, без явного указания их в качестве аргумента 
    и без использования декоратора usefixtures . В качестве примера приведена фикстура, имитирующая базу данных 
    с архитектурой «begin/rollback/commit» и мы хотим автоматически обернуть каждый тестовый метод транзакцией 
    и откатом к начальному состоянию. 

#### exam11
> Модальность: использование фикстур фикстурами
> Фикстуры могут использоваться не только тестовыми функциями, но и другими фикстурами. 
> Это помогает cделать тесты модальными и дает возможность повторного использования 
> фреймворк-зависимых фикстур во множестве проектов.

#### exam12
> Автоматическая группировка тестов экземплярами фикстур

#### exam13
> Использование фикстур в классах, модулях и проектах
> Декоратор usefixtures
> Фикстура cleandir будет инициализироваться для выполнения каждого тестового метода.
---

#### Наиболее употребимые команды
> $ pytest  
> $ pytest -m <MARKEXP> --tb=no  
> $ pytest -v -m <MARKEXP>  
> $ pytest -qq --tb=short test_<MODULE>.py  
> $ pytest -q -s --tb=short test_<MODULE>.py  
> $ pytest --collect-only - вывести полный список ID для каждого параметра, переданного фикстуре в параметре params

